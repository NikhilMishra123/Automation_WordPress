class SitesController < ApplicationController

	def index
    @sites = Site.all
  end

  def show
    @sites = Site.find(params[:id])
  end

  def new
  end

  def save
		debugger
    site = siteParams
		userId  = User.getUser(site["user"])
		debugger
		if(userId ==  nil)
			render "/sites/new"
		else
			debugger
			Site.create(
				:siteURL => site["siteURL"],
				:user =>  userId
			)
			redirect_to "/sites/#{@sites.id}"
		end

  private
    def siteParams
      params.require(:site).permit(:siteURL,:user )
    end

end
